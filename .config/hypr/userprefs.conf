$term = kitty
$file = dolphin
$browser = firefox
$discord = discord
$password_manager = keepassxc

exec-once = hyprpm reload -nn

monitor = , highres highrr, auto, 1
monitor = eDP-1, highres highrr, auto, 1, transform, 0

bindn = Shift, Backspace, exec, ~/go/bin/gobs-cli rb sv

bind = , code:201, exec, canberra-gtk-play -i message  # Normal
bind = , code:202, exec, canberra-gtk-play -i dialog-warning  # Game



bind = $mainMod, U, exec, ~/Scripts/hyprland_toggle_portrait.sh

device {
    name = glove80-keyboard
    kb_options = ""
}

device {
    name = moergo-glove80-left-keyboard
    kb_options = ""
}

device {
    name = zaunkoenig-m3k
    accel_profile = flat
    sensitivity = -0.70
}

input {
    kb_options = caps:swapescape
    repeat_delay = 200
    repeat_rate = 70
    force_no_accel = 0
    follow_mouse = 0
}

unbind = $CONTROL, ESCAPE

unbind = $mainMod, T
bind = $mainMod, T, exec, $term fish -C "tmux a; or tmux"
# bindn = , T, exec, ~/Scripts/hyprland_launch_app.sh $term
# bindn = , D, exec, ~/Scripts/hyprland_launch_app.sh $discord
# bindn = , B, exec, ~/Scripts/hyprland_launch_app.sh $browser
# bindn = , E, exec, ~/Scripts/hyprland_launch_app.sh $file
# bindn = , K, exec, ~/Scripts/hyprland_launch_app.sh $password_manager


bind = $mainMod, R, exec, ~/Scripts/toggle_fastfetch.sh
windowrulev2 = float, class:^(hypr-fastfetch)$
windowrulev2 = size 850 460, class:^(hypr-fastfetch)$
windowrulev2 = move 1020 546, class:^(hypr-fastfetch)$

unbind = $mainMod, C
bind = $mainMod, C, exec, [ float ; move 1064 331 ; size 750 250 ] $term --hold zsh -c "cava"


bind = $mainMod, Y, exec, zsh -c "pkill gammastep &>/dev/null || (gammastep &>/dev/null &)"

misc {
  initial_workspace_tracking = false
}

binds {
  allow_workspace_cycles = true
}

unbind = $mainMod, TAB
# COMMENTED TO FORCE DISCIPLINE!!! >:(
# bind = $mainMod, TAB, workspace, previous

unbind = $mainMod, SPACE
bind = $mainMod, SPACE, exec, pkill -x rofi || $scrPath/rofilaunch.sh w


$key = equal
$id = empty
unbind = $mainMod, $key
unbind = $mainMod SHIFT, $key
unbind = $mainMod ALT, $key
bind = $mainMod, $key, workspace, $id
bind = $mainMod SHIFT, $key, movetoworkspace, $id
bind = $mainMod ALT, $key, movetoworkspacesilent, $id

$key = 0
$name = 0
$id = 10
unbind = $mainMod, $key
unbind = $mainMod SHIFT, $key
unbind = $mainMod ALT, $key
bind = $mainMod, $key, workspace, $id
bind = $mainMod SHIFT, $key, movetoworkspace, $id
bind = $mainMod ALT, $key, movetoworkspacesilent, $id
workspace = $id, defaultName:$name

$key = minus
$name =  -
$id = 11
unbind = $mainMod, $key
unbind = $mainMod SHIFT, $key
unbind = $mainMod ALT, $key
bind = $mainMod, $key, workspace, $id
bind = $mainMod SHIFT, $key, movetoworkspace, $id
bind = $mainMod ALT, $key, movetoworkspacesilent, $id
workspace = $id, defaultName:$name

bind = $mainMod+CTRL+SHIFT, D, exec, $discord
bind = $mainMod+CTRL+SHIFT, K, exec, $password_manager

unbind = $mainMod+Ctrl, Right
unbind = $mainMod+Ctrl, Left
bind = $mainMod+Ctrl, Right, workspace, e+1
bind = $mainMod+Ctrl, Left, workspace, e-1

unbind = $mainMod+Shift, Q, exec
bind = $mainMod+Shift, Q, exec, pkill -x rofi || $scrPath/themeselect.sh 


# general {
#     layout = master
# }
# master {
#     mfact = 0.6
#     new_on_top = true
#     new_status = master
# }
# source = ./keybindings_masterslave.conf

general {
    layout = scrolling
}
plugin {
    hyprscrolling {
        column_width = 0.45
        fullscreen_on_one_column = false
        explicit_column_widths = 0.20, 0.35, 0.45, 0.65, 0.85, 1
        focus_fit_method = 1
        follow_focus = 1
    }
}
source = ./keybindings_scrolling.conf



bind = Ctrl+Alt,Delete, movecursor, 960 850

unbind =  F10
unbind = , F11
unbind = , F12

unbind = Ctrl, Escape
unbind = Alt, Return
unbind = $mainMod, F
bind = $mainMod, F, fullscreen

unbind = $mainMod, H
unbind = $mainMod, J
unbind = $mainMod, K
unbind = $mainMod, L
bind = $mainMod, H, movefocus, l
bind = $mainMod, J, movefocus, d
bind = $mainMod, K, movefocus, u
bind = $mainMod, L, movefocus, r

animations {
    enabled = yes
    bezier = wind, 0.87, 0, 0.13, 1
    bezier = winIn, 0.05, 1.2, 0.1, 1.0
    bezier = winOut, 0.3, -0.3, 0, 1
    bezier = liner, 1, 1, 1, 1
    bezier = slideFromTop, 0.05, 1.1, 0.1, 1.1
    bezier = slideFromTop, 0.05, 1.1, 0.1, 1.1
    bezier = cubic, 0.221, 0, 0, 1
    animation = global, 1, 1, cubic
    animation = windows, 1, 1, cubic
    animation = windowsIn, 1, 2, cubic, slide
    animation = windowsOut, 1, 2, cubic, slide
    animation = windowsMove, 1, 1.05, cubic
    animation = workspaces, 1, 1, cubic
    animation = fade, 1, 1, cubic
    animation = border, 1, 1, liner
    animation = borderangle, 1, 30, liner, loop
    animation = layers, 1, 1, cubic
}

general {
    col.inactive_border = rgba(00000000) 
    gaps_in = 4
    gaps_out = 0 #8
    border_size = 3
    resize_on_border = true
}

#no_gaps_when_only;
#workspace = w[tv1], gapsout:0, gapsin:0
#workspace = f[1], gapsout:0, gapsin:0
#windowrulev2 = bordersize 0, floating:0, onworkspace:w[tv1]
#windowrulev2 = rounding 0, floating:0, onworkspace:w[tv1]
#windowrulev2 = bordersize 0, floating:0, onworkspace:f[1]
#windowrulev2 = rounding 0, floating:0, onworkspace:f[1]


decoration {
    rounding = 10
    dim_inactive = false
    dim_around = 0
    dim_strength = 0.2
    active_opacity=1.0
    inactive_opacity=0.95
    blur {
        enabled = true
        size = 3
        passes = 3
        new_optimizations = true
        ignore_opacity = on
        xray = false
    }
    shadow {
        enabled = false
    }
}


gesture = 3, horizontal, workspace


windowrulev2 = unset,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = opacity 0.80 0.70,class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = opacity 1 1,class:^($term)$
windowrulev2 = opacity 1 1,class:^($browser)$

windowrulev2 = tag +shouldbenoshare, class:(org.telegram.desktop|discord|org.keepassxc.KeePassXC)
# windowrulev2 = noscreenshare, tag:noshare
windowrulev2 = bordersize 3, tag:noshare
windowrulev2 = bordercolor rgba(ff0000ff) rgba(ff000099), tag:noshare
$uh = $HOME/.config/hypr/
bind = $mainMod+Shift, H, exec, $uh/toggle_noshare.sh current
bind = $mainMod+Ctrl+Alt+Shift, H, exec, $uh/toggle_noshare.sh all

unbind = $mainMod, S
unbind = $mainMod+Shift, S
bind = $mainMod, S, exec, $uh/move_player_window.sh focusplayer
bind = $mainMod+Shift, S, exec, $uh/move_player_window.sh movetomaster

layerrule = blur,waybar
layerrule = ignorezero,waybar

